<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>03. 안전한 합성에 대해</title>
  <script src="./fx.js"></script>
</head>

<body>
  1. map으로 합성하기
  <script>
    const f = x => x + 10;
    const g = x => x - 5;
    const fg = x => f(g(x));

    // console.log(fg()); // Nan , 변수가 없는 경우!??!

    _.go(
      10,
      fg,
      console.log
    )

    _.go(
      [],
      L.map(fg),
      _.each(console.log)
    )

    _.go(
      [10],
      L.map(fg),
      _.each(console.log)
    )
  </script>


  2. find 대신 L.filter 써보기
  <script>
    const users = [
      { name: 'AA', age: 35 },
      // { name: 'BB', age: 26 },
      { name: 'CC', age: 28 },
      { name: 'CC', age: 34 },
      { name: 'EE', age: 23 },
    ]

    try {
      const user1 = _.find(u => u.name == 'BB', users);
      const user2 = _.find(u => u.name == 'DD', users);
      console.log(user1); // undefined
      console.log(user2); // undefined

      // find 를 통해 찾은 결과가 없을 때는 if문을 통해서 처리를 해주어야 함
      // if (user1) {
      console.log(user1.age);
      // }
    } catch (e) {

    }

    // L.take를 통해 나온 결과는 배열이기 때문에 _.each 사용
    _.each(console.log,
      L.take(1,
        L.filter(u => u.name == 'BB', users)));

    // if문 사용해서 처리하는 것보다는 이렇게 하는게...
    _.go(users,
      L.filter(u => u.name == 'BB'),
      L.take(1),
      L.map(u => u.age),
      _.each(console.log)
    )
  </script>

</body>

</html>